



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for Theia.">
      
      
        <link rel="canonical" href="https://mikevansighem.github.io/theia/testing_and_ci/">
      
      
        <meta name="author" content="Mike van Sighem">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.6">
    
    
      
        <title>Testing and CI - Theia</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#ab47bc">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="purple" data-md-color-accent="purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#testing-and-ci" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://mikevansighem.github.io/theia/" title="Theia" class="md-header-nav__button md-logo">
          
            <img src="../images/theia_icon.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Theia
              </span>
              <span class="md-header-nav__topic">
                Testing and CI
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/mikevansighem/theia/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      mikevansighem/theia
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." title="Home" class="md-tabs__link md-tabs__link--active">
        Home
      </a>
    
  </li>

      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../not_available/" title="Environment" class="md-tabs__link">
          Environment
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../not_available/" title="Hardware support" class="md-tabs__link">
          Hardware support
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://mikevansighem.github.io/theia/" title="Theia" class="md-nav__button md-logo">
      
        <img src="../images/theia_icon.svg" width="48" height="48">
      
    </a>
    Theia
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/mikevansighem/theia/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      mikevansighem/theia
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting_started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Testing and CI
      </label>
    
    <a href="./" title="Testing and CI" class="md-nav__link md-nav__link--active">
      Testing and CI
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#code-testing" title="Code testing" class="md-nav__link">
    Code testing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formating-checks" title="Formating checks" class="md-nav__link">
    Formating checks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-commit-hooks" title="Pre-commit hooks" class="md-nav__link">
    Pre-commit hooks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuous-integration" title="Continuous integration" class="md-nav__link">
    Continuous integration
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Environment
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Environment
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../not_available/" title="Solar position" class="md-nav__link">
      Solar position
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Hardware support
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Hardware support
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../not_available/" title="MQTT-module" class="md-nav__link">
      MQTT-module
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#code-testing" title="Code testing" class="md-nav__link">
    Code testing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formating-checks" title="Formating checks" class="md-nav__link">
    Formating checks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-commit-hooks" title="Pre-commit hooks" class="md-nav__link">
    Pre-commit hooks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuous-integration" title="Continuous integration" class="md-nav__link">
    Continuous integration
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/mikevansighem/theia/edit/master/docs/testing_and_ci.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="testing-and-ci">🚨 Testing and CI<a class="headerlink" href="#testing-and-ci" title="Permanent link">&para;</a></h1>
<h2 id="code-testing">Code testing<a class="headerlink" href="#code-testing" title="Permanent link">&para;</a></h2>
<p>All our code tests are located in <code class="codehilite">/tests</code> and implemented using 
<a href="https://docs.pytest.org/en/latest/goodpractices.html">pytest</a>. To run 
the use: </p>
<div class="codehilite"><pre><span></span>make check-code
</pre></div>

<h2 id="formating-checks">Formating checks<a class="headerlink" href="#formating-checks" title="Permanent link">&para;</a></h2>
<p>In addition to tests for functionality of the code we have checks for the
formatting of the code. For this we use <a href="http://flake8.pycqa.org/en/latest/">Flake8</a>
extended with <a href="https://gitlab.com/pycqa/flake8-docstrings">flake8-docstrings</a> 
and <a href="https://github.com/PyCQA/pep8-naming">pep8-naming</a>. To run the formatting
checks use:</p>
<div class="codehilite"><pre><span></span>make check-format
</pre></div>

<h2 id="pre-commit-hooks">Pre-commit hooks<a class="headerlink" href="#pre-commit-hooks" title="Permanent link">&para;</a></h2>
<p>In order to ease the development of functioning and nicely formatted code
we use pre-commit hooks managed by <a href="https://pre-commit.com">pre-commit</a>.
To get setup with our recommended pre-commit hooks navigate to the root of 
this repository and run:</p>
<div class="codehilite"><pre><span></span>make precommit-install
</pre></div>

<p>This takes care of the setup of all the pre-commit hooks defined in
 <code class="codehilite"><span class="na">.pre-commit-config.yaml</span></code>. Upon your next commit your code will be formatted,
 and checked for linting errors. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the commit fails due to one of the formatting tools you can simply 
retry the commit. Most likely your commit will pass now. If a formatter 
needs to make a change the pre-commit checks are always considered to 
be failed even if the formatting has been fixed now.</p>
</div>
<h2 id="continuous-integration">Continuous integration<a class="headerlink" href="#continuous-integration" title="Permanent link">&para;</a></h2>
<p>To ease the load on our developers we have set up an extensive continuous 
integration (CI) system. It takes care of building, testing and deployment 
of code and the documentation. To enable multi-platform testing we had to 
use both <a href="https://travis-ci.com/mikevansighem/theia">Travis-CI</a> and 
<a href="https://ci.appveyor.com/project/mikevansighem/theia/branch/master">AppVeyor</a> 
To see which service is used to perform what tasks refer to the table below. </p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="center">Travis-CI</th>
<th align="center">AppVeyor</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Testing on Windows</td>
<td align="center"></td>
<td align="center"><img alt="✅" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/svg/2705.svg" title=":white_check_mark:" /></td>
</tr>
<tr>
<td align="left">Testing on Linux</td>
<td align="center"><img alt="✅" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/svg/2705.svg" title=":white_check_mark:" /></td>
<td align="center"></td>
</tr>
<tr>
<td align="left">Testing on OSX</td>
<td align="center"><img alt="🚧" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/svg/1f6a7.svg" title=":construction:" /></td>
<td align="center"></td>
</tr>
<tr>
<td align="left">Coverage for Codacy</td>
<td align="center"><img alt="✅" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/svg/2705.svg" title=":white_check_mark:" /></td>
<td align="center"></td>
</tr>
<tr>
<td align="left">Building documentation</td>
<td align="center"><img alt="✅" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/svg/2705.svg" title=":white_check_mark:" /></td>
<td align="center"></td>
</tr>
<tr>
<td align="left">Deploying documentation</td>
<td align="center"><img alt="✅" class="emojione" src="https://cdn.jsdelivr.net/emojione/assets/svg/2705.svg" title=":white_check_mark:" /></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Testing on OSX using Travis-CI is planned.</p>
</div>
<p>To help improve the quality of our code further it is analyzed by 
<a href="https://app.codacy.com/project/mikevansighem/theia/dashboard">Codacy</a> 
which displays linting, security, formatting and coverage results 
in a easy to use interface.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../getting_started/" title="Getting started" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Getting started
              </span>
            </div>
          </a>
        
        
          <a href="../contributing/" title="Contributing" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Contributing
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright 2018 - Mike van Sighem
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.5e60981f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>